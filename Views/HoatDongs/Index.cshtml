@model IEnumerable<website_CLB_HTSV.Models.HoatDong>

@{
    ViewData["Title"] = "Index";
}

<h1>Index</h1>

<p>
    <a asp-action="Create">Create New</a>
</p>
<form asp-controller="HoatDongs" asp-action="Index" class="search-form justify-center mb-2">
    <div class="search-container">
        <input type="text" class="search-input w-full md:w-80 mb-2 md:mb-0" placeholder="Tìm kiếm" name="SearchString">
        <button class="search-button ml-2">
            <i class="bi bi-search"></i>
        </button>
    </div>
</form>





<main class="container mx-auto py-8">
    <section class="bg-white shadow-md p-6 rounded-md">
        <h2 class="text-2xl font-semibold mb-4 overflow-y-auto" style="max-height: calc(3 * (3.5rem + 1rem));">Hoạt động sắp tới</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            @foreach (var i in Model)
            {
                <div class="flex flex-col md:flex-row bg-gray-200 p-4 rounded-md items-center">
                    @* <img src="https://picsum.photos/500" alt="Hoạt động 1" class="h-64 w-full md:w-64 mr-0 md:mr-4 rounded-lg mb-4 md:mb-0"> *@
                    <div class="md:w-3/4">
                        <h3 class="text-xl font-semibold mb-2">@i.TenHoatDong</h3>
                        <p class="activity-description text-sm md:text-base">@i.MoTa<br>Thời Gian: <span class="font-semibold">@i.ThoiGian</span><br>Địa Điểm: <span class="font-semibold">@i.DiaDiem</span><br>Trạng Thái: <span class="font-semibold">@i.TrangThai</span></p>
                        <!-- Form/Link để đăng ký -->
                        <form asp-controller="HoatDongs" asp-action="DangKy"
                              method="post" asp-route-hoatDongId="@i.MaHoatDong">
                            <input class="bg-blue-500 text-white font-semibold px-4 py-2 mt-4 rounded hover:bg-blue-600 register-btn" type="submit" value="Đăng ký" />
                        </form>
                    </div>
                </div>
               
            }   
        </div>
    </section>
</main>

<!-- Add Tailwind CSS -->
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
<style>
    .activity-description {
        max-height: calc(3 * (3.5rem + 1rem)); /* 3 card Hoạt động */
        overflow-y: auto;
    }

    /* Transition for smooth effect */
    .register-btn {
        transition: all 0.3s ease;
        cursor: pointer;
    }

    /* Button hover effect */
    .register-btn:not(.register-btn-cancel):hover {
        transform: translateY(-2px);
        background-color: #10B981;
        box-shadow: 0 4px 6px rgba(81, 153, 255, 0.11), 0 1px 3px rgba(0, 0, 0, 0.08);
    }

    /* Button cancel state */
    .register-btn-cancel {
        background-color: #EF4444;
    }

    a:hover {
        color: blue; /* Đổi màu chữ thành màu xanh dương */
        text-decoration: underline; /* Thêm gạch chân */
    }

/* Form */
.search-form {
    display: flex;
    justify-content: center;
    margin-bottom: 20px;
}

.search-container {
    position: relative;
    width: 100%; /* Thanh tìm kiếm sẽ căng toàn bộ chiều rộng của phần tử cha */
}

.search-input {
    width: 100%;
    padding: 10px 20px;
    border: 1px solid #38b7fd;
    border-radius: 25px;
    font-size: 16px;
    outline: none;
    background-color: transparent;
}

.search-button {
    position: absolute;
    top: 50%;
    right: 10px;
    transform: translateY(-50%);
    background-color: transparent;
    border: none;
    cursor: pointer;
    padding-bottom: 10px;
}

.search-button i {
    font-size: 20px;
}

@@media (min-width: 640px) {
        .search-container{
            width: 700px;
        }

    .search-input {
        width: 700px; /* Đặt lại kích thước cho trường hợp màn hình lớn hơn 640px */
        min-width: 200px; /* Đặt kích thước tối thiểu cho ô tìm kiếm */
    }
}

</style>




<!-- Add your JavaScript code here -->
<script>
    function registerSuccess(button) {
        button.textContent = 'Hủy đăng ký';
        button.classList.remove('hover:bg-blue-600');
        button.classList.add('register-btn-cancel', 'cursor-default');
    }

    function cancelRegistration(button) {
        button.textContent = 'Đăng kí tham gia';
        button.classList.add('hover:bg-blue-600');
        button.classList.remove('register-btn-cancel');
    }

    function registerToggle(button) {
        if (button.textContent === 'Đăng kí tham gia') {
            registerSuccess(button);
        } else {
            cancelRegistration(button);
        }
    }
</script>



























@* @model IEnumerable<website_CLB_HTSV.Models.HoatDong>

@{
    ViewData["Title"] = "Index";
}

<h1>Index</h1>

<p>
    <a asp-action="Create">Create New</a>
</p>
<table class="table">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.TenHoatDong)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.MoTa)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ThoiGian)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.DiaDiem)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.HocKy)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.NamHoc)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.HinhAnh)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.TrangThai)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.DaDangKi)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.DaThamGia)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.MinhChung)
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
@foreach (var item in Model) {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.TenHoatDong)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.MoTa)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ThoiGian)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DiaDiem)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.HocKy)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.NamHoc)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.HinhAnh)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.TrangThai)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DaDangKi)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DaThamGia)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.MinhChung)
            </td>
            <td>
                <a asp-action="Edit" asp-route-id="@item.MaHoatDong">Edit</a> |
                <a asp-action="Details" asp-route-id="@item.MaHoatDong">Details</a> |
                <a asp-action="Delete" asp-route-id="@item.MaHoatDong">Delete</a>
            </td>
        </tr>
}
    </tbody>
</table>
 *@